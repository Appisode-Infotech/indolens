<!DOCTYPE html>
<html lang="en-US" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <!-- ===============================================-->
    <!--    Document Title-->
    <!-- ===============================================-->
    <title>Phoenix</title>
    {% load static %}


    <!-- ===============================================-->
    <!--    Favicons-->
    <!-- ===============================================-->
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/favicons/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'img/favicons/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'img/favicons/favicon-16x16.png' %}">
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'img/favicons/favicon.ico' %}">
    <link rel="manifest" href="{% static 'img/favicons/manifest.json' %}">
    <meta name="msapplication-TileImage" content="{% static 'img/favicons/mstile-150x150.png' %}">
    <meta name="theme-color" content="#ffffff">
    <script src="{% static 'vendors/imagesloaded/imagesloaded.pkgd.min.js' %}"></script>
    <script src="{% static 'vendors/simplebar/simplebar.min.js' %}"></script>
    <script src="{% static 'js/config.js' %}"></script>

    <!-- ===============================================-->
    <!--    Stylesheets-->
    <!-- ===============================================-->
    <link href="{% static 'vendors/flatpickr/flatpickr.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendors/choices/choices.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendors/prism/prism-okaidia.css' %}" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&amp;display=swap"
          rel="stylesheet">
    <link href="{% static 'vendors/simplebar/simplebar.min.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <link href="{% static 'css/theme-rtl.min.css' %}" type="text/css" rel="stylesheet" id="style-rtl">
    <link href="{% static 'css/theme.min.css' %}" type="text/css" rel="stylesheet" id="style-default">
    <link href="{% static 'css/user-rtl.min.css' %}" type="text/css" rel="stylesheet" id="user-style-rtl">
    <link href="{% static 'css/user.min.css' %}" type="text/css" rel="stylesheet" id="user-style-default">

    <script>
      var isRTL = JSON.parse(localStorage.getItem('isRTL'));
      if (isRTL) {
        var linkDefault = document.getElementById('style-default');
        var userLinkDefault = document.getElementById('user-style-default');
        linkDefault.setAttribute('disabled', true);
        userLinkDefault.setAttribute('disabled', true);
        document.querySelector('html').setAttribute('dir', 'rtl');
      } else {
        var linkRTL = document.getElementById('style-rtl');
        var userLinkRTL = document.getElementById('user-style-rtl');
        linkRTL.setAttribute('disabled', true);
        userLinkRTL.setAttribute('disabled', true);
      }

    </script>
</head>


<body>

<!-- ===============================================-->
<!--    Main Content-->
<!-- ===============================================-->
<main class="main" id="top">
    <div class="container-fluid px-0">
        {% include 'nav_bar_franchise.html' %}

        <div class="content">

            <div class="col-12 col-xxl-6">
                <div data-list='{"valueNames":["projectName","assigness","start","deadline","task","projectprogress","status","action"],"page":6,"pagination":true}'
                     id="projectSummary">
                    <div class="row mb-4 gx-6 gy-3 align-items-center">
                        <div class="col-auto">
                            <h2 class="mb-0">Create a stock request<span class="fw-normal text-700 ms-3"></span></h2>
                        </div>
                    </div>
                    <div class="row g-3 justify-content-between align-items-end mb-4">

                        <div class="col-12 col-sm-auto">
                            <div class="d-flex align-items-center">
                                <div class="search-box me-3">
                                    <form class="position-relative" data-bs-display="static" data-bs-toggle="search">
                                        <input aria-label="Search" class="form-control search-input search"
                                               placeholder="Search for product" type="search"/>
                                        <span class="fas fa-search search-box-icon"></span>
                                    </form>
                                </div>

                            </div>
                        </div>

                    </div>
                    <div class="table-responsive scrollbar">
                        <table class="table fs--1 mb-0">
                            <thead>
                            <tr>
                                <th class="white-space-nowrap fs--1 align-middle"
                                    style="max-width:20px; width:18px;">
                                    <div class="form-check mb-0 fs-0">
                                        <input class="form-check-input" type="checkbox"/>
                                    </div>
                                </th>
                                <th class="sort white-space-nowrap align-middle fs--2" scope="col"
                                    style="width:70px;"></th>
                                <th class="sort white-space-nowrap align-middle ps-4" data-sort="product"
                                    scope="col" style="width:350px;">PRODUCT NAME
                                </th>
                                <th class="sort align-middle text-end ps-4" data-sort="price" scope="col"
                                    style="width:150px;">PRICE
                                </th>
                                <th class="sort align-middle ps-4" data-sort="category" scope="col"
                                    style="width:150px;">CATEGORY
                                </th>
                                <th class="sort align-middle ps-4" data-sort="category" scope="col"
                                    style="width:150px;">BRAND
                                </th>
                                <th class="sort align-middle ps-4" data-sort="category" scope="col"
                                    style="width:150px;">STORE
                                </th>
                                <th class="sort align-middle ps-3" data-sort="tags" scope="col"
                                    style="width:250px;">IN STOCK
                                </th>
                                <th class="sort align-middle ps-4" data-sort="time" scope="col"
                                    style="width:50px;">PUBLISHED ON
                                </th>
                                <th class="sort text-end align-middle pe-0 ps-4" scope="col"></th>
                            </tr>
                            </thead>
                            <tbody class="list" id="products-table-body">
                            <tr class="hover-actions-trigger btn-reveal-trigger position-static">
                                <td class="fs--1 align-middle">
                                    <div class="form-check mb-0 fs-0">
                                        <input class="form-check-input" type="checkbox"/>
                                    </div>
                                </td>
                                <td class="align-middle white-space-nowrap py-0">
                                    <div class="border rounded-2"><img alt=""
                                                                       src="{% static 'img/products/1.png' %}"
                                                                       width="53"/>
                                    </div>
                                </td>
                                <td class="product align-middle ps-4"><a
                                        class="fw-semi-bold line-clamp-3 mb-0" href="#!">Indolens - Metallic
                                    frame 2x2 frame fro kids</a></td>
                                <td class="price align-middle white-space-nowrap text-end fw-bold text-700 ps-4">
                                    â‚¹3,900
                                </td>
                                <td class="category align-middle white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">
                                    Category name
                                </td>
                                <td class="category align-middle white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">
                                    Brand name
                                </td>
                                <td class="category align-middle white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">
                                    <a>Nelamangala store</a>
                                </td>

                                <td class="price align-middle white-space-nowrap text-end fw-bold text-700 ps-4">
                                    25
                                </td>
                                <td class="time align-middle white-space-nowrap text-600 ps-4">Nov 12, 10:45
                                    PM
                                </td>
                                <td class="align-middle white-space-nowrap text-end pe-0 ps-4">
                                    <div class="font-sans-serif btn-reveal-trigger position-static">
                                        <button aria-expanded="false"
                                                aria-haspopup="true"
                                                class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2"
                                                data-boundary="window" data-bs-reference="parent"
                                                data-bs-toggle="dropdown" type="button"><span
                                                class="fas fa-ellipsis-h fs--2"></span></button>
                                        <div class="dropdown-menu dropdown-menu-end py-2"><a
                                                class="dropdown-item" data-bs-toggle="modal"
                                                data-bs-target="#verticallyCentered">Request</a>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="modal fade" id="verticallyCentered" tabindex="-1"
                                 aria-labelledby="verticallyCenteredModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="verticallyCenteredModalLabel">Request for
                                                stock</h5>
                                            <button class="btn p-1" type="button" data-bs-dismiss="modal"
                                                    aria-label="Close"><span class="fas fa-times fs--1"></span></button>
                                        </div>
                                        <div class="p-4 code-to-copy">
                                            <form method='POST' action='/' class="row g-3 needs-validation"
                                                  novalidate="">
                                                <div class="col-12">

                                                    <label class="form-label" for="validationCustom01">Product
                                                        ID</label>

                                                    <input disabled class="form-control" id="validationCustom01"
                                                           type="text"
                                                           value="112" required=""/>
                                                    <div class="invalid-feedback">Enter valid Product Id!</div>
                                                </div>

                                                <div class="col-12">

                                                    <label class="form-label" for="expense_reason">Request
                                                        Quantity</label>

                                                    <input class="form-control" id="expense_reason" type="number"
                                                           maxlength="256"
                                                           value="" required=""/>
                                                    <div class="invalid-feedback">Enter valid quantity!</div>
                                                </div>


                                                <div class="modal-footer">
                                                    <button class="btn btn-primary" type="submit">Submit</button>
                                                    <button class="btn btn-outline-primary" type="button"
                                                            data-bs-dismiss="modal">
                                                        Cancel
                                                    </button>
                                                </div>
                                            </form>
                                        </div>

                                    </div>
                                </div>
                            </div>

                    <div class="d-flex flex-wrap align-items-center justify-content-between py-3 pe-0 fs--1 border-bottom border-200">
                        <div class="d-flex">
                            <p class="mb-0 d-none d-sm-block me-3 fw-semi-bold text-900"
                               data-list-info="data-list-info"></p><a class="fw-semi-bold" data-list-view="*" href="#!">View
                            all<span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a><a
                                class="fw-semi-bold d-none" data-list-view="less" href="#!">View Less<span
                                class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span></a>
                        </div>
                        <div class="d-flex">
                            <button class="page-link" data-list-pagination="prev"><span
                                    class="fas fa-chevron-left"></span></button>
                            <ul class="mb-0 pagination"></ul>
                            <button class="page-link pe-0" data-list-pagination="next"><span
                                    class="fas fa-chevron-right"></span></button>
                        </div>
                    </div>
                </div>

            </div>

            {% include 'footer.html' %}

        </div>
    </div>
    <script>
        var navbarTopStyle = localStorage.getItem('phoenixNavbarTopStyle');
        var navbarTop = document.querySelector('.navbar-top');
        if (navbarTopStyle === 'darker') {
          navbarTop.classList.add('navbar-darker');
        }

        var navbarVerticalStyle = localStorage.getItem('phoenixNavbarVerticalStyle');
        var navbarVertical = document.querySelector('.navbar-vertical');
        if (navbarVerticalStyle === 'darker') {
          navbarVertical.classList.add('navbar-darker');
        }



    </script>
</main>
<!-- ===============================================-->
<!--    End of Main Content-->
<!-- ===============================================-->

<!-- ===============================================-->
<!--    JavaScripts-->
<!-- ===============================================-->
<script src="{% static 'vendors/popper/popper.min.js' %}"></script>
<script src="{% static 'vendors/bootstrap/bootstrap.min.js' %}"></script>
<script src="{% static 'vendors/anchorjs/anchor.min.js' %}"></script>
<script src="{% static 'vendors/is/is.min.js' %}"></script>
<script src="{% static 'vendors/fontawesome/all.min.js' %}"></script>
<script src="{% static 'vendors/lodash/lodash.min.js' %}"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
<script src="{% static 'vendors/list.js/list.min.js' %}"></script>
<script src="{% static 'vendors/feather-icons/feather.min.js' %}"></script>
<script src="{% static 'vendors/dayjs/dayjs.min.js' %}"></script>
<script src="{% static 'vendors/choices/choices.min.js' %}"></script>
<script src="{% static 'vendors/prism/prism.js' %}"></script>
<script src="{% static 'js/phoenix.js' %}"></script>
<script>
    let productCounter = 1;
    const removeButton = document.querySelector('.btn-danger');
    removeButton.style.display = 'none';

    function addProduct() {
        // Clone the product_widget element
        const productWidgets = document.getElementById('product_widgets');
        const productWidget = productWidgets.querySelector('.product_widget:last-child');
        const clonedWidget = productWidget.cloneNode(true);

        // Clear input values in the cloned widget
        const inputs = clonedWidget.querySelectorAll('input');
        for (const input of inputs) {
            input.value = '';
        }

        // Increment the product counter and update the label
        productCounter++;
        const productLabel = clonedWidget.querySelector('h5');
        productLabel.textContent = `Product ${productCounter}`;

        // Append the cloned widget after the last product_widget
        productWidgets.appendChild(clonedWidget);
        updateRemoveButtonVisibility();

    }

    function removeProduct() {
        // Find the container for product widgets
        const productWidgets = document.getElementById('product_widgets');

        // Find all product widgets excluding the first one
        const productWidgetCount = productWidgets.querySelectorAll('.product_widget').length;

        // Only remove if there's more than one product widget
        if (productWidgetCount > 1) {
            // Find and remove the last child (last added widget)
            const lastChild = productWidgets.lastElementChild;
            if (lastChild) {
                lastChild.remove();
            }

            // Decrement the product counter
            productCounter--;
        }
        updateRemoveButtonVisibility();

    }

    function updateRemoveButtonVisibility() {
        // Find the "Remove Product" button
        const removeButton = document.querySelector('.btn-danger');

        // Find all product widgets excluding the first one
        const productWidgets = document.getElementById('product_widgets');
        const productWidgetCount = productWidgets.querySelectorAll('.product_widget').length;

        // Show or hide the button based on the number of widgets
        if (productWidgetCount > 1) {
            removeButton.style.display = 'block';
        } else {
            removeButton.style.display = 'none';
        }
    }

</script>
<script>
        // Add an event listener to the "Start Over" button
        document.querySelector('.btn-start-over').addEventListener('click', function () {
            // Gather data from the first form (tab 1)
            var formData1 = formDataToObject(document.querySelector('#wizardValidationForm1'));

            // Gather data from the second form (tab 2)
            var formData2 = formDataToObject(document.querySelector('#wizardValidationForm2'));

            // Gather data from the third form (tab 3)
            var formData3 = formDataToObject(document.querySelector('#wizardValidationForm3'));

            // Combine all form data into a single object
            var allFormData = {
                form1: formData1,
                form2: formData2,
                form3: formData3
            };

            // Display the collected data in the console
            console.log(allFormData);

            // Send the collected data to the server using AJAX
            fetch('/your-server-endpoint', {
                method: 'POST',
                body: JSON.stringify(allFormData),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => {
                if (response.ok) {
                    // Handle success
                    alert('Data submitted successfully');
                    // You can also redirect to a different page here if needed
                } else {
                    // Handle errors
                    alert('Failed to submit data');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred');
            });
        });

        // Function to convert FormData to a JavaScript object
        function formDataToObject(form) {
            var object = {};
            var formData = new FormData(form);
            formData.forEach(function (value, key) {
                object[key] = value;
            });
            return object;
        }

</script>


</body>

</html>