<!DOCTYPE html>
<html dir="ltr" lang="en-US">

<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">


    <!-- ===============================================-->
    <!--    Document Title-->
    <!-- ===============================================-->
    <title>Indolens admin - Add product</title>
    {% load static %}


    <!-- ===============================================-->
    <!--    Favicons-->
    <!-- ===============================================-->
    <link href="{% static 'img/favicons/apple-touch-icon.png' %}" rel="apple-touch-icon" sizes="180x180">
    <link href="{% static 'img/favicons/favicon-32x32.png' %}" rel="icon" sizes="32x32" type="image/png">
    <link href="{% static 'img/favicons/favicon-16x16.png' %}" rel="icon" sizes="16x16" type="image/png">
    <link href="{% static 'img/favicons/favicon.ico' %}" rel="shortcut icon" type="image/x-icon">
    <link href="{% static 'img/favicons/manifest.json' %}" rel="manifest">
    <meta content="{% static 'img/favicons/mstile-150x150.png' %}" name="msapplication-TileImage">
    <meta content="#ffffff" name="theme-color">
    <script src="{% static 'vendors/imagesloaded/imagesloaded.pkgd.min.js' %}"></script>
    <script src="{% static 'vendors/simplebar/simplebar.min.js' %}"></script>
    <script src="{% static 'js/config.js' %}"></script>

    <!-- ===============================================-->
    <!--    Stylesheets-->
    <!-- ===============================================-->
    <link href="{% static 'vendors/dropzone/dropzone.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendors/choices/choices.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendors/flatpickr/flatpickr.min.css' %}" rel="stylesheet">
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&amp;display=swap"
          rel="stylesheet">
    <link href="{% static 'vendors/simplebar/simplebar.min.css' %}" rel="stylesheet">
    <link href="https://unicons.iconscout.com/release/v4.0.0/css/line.css" rel="stylesheet">
    <link href="{% static 'css/theme-rtl.min.css' %}" id="style-rtl" rel="stylesheet" type="text/css">
    <link href="{% static 'css/theme.min.css' %}" id="style-default" rel="stylesheet" type="text/css">
    <link href="{% static 'css/user-rtl.min.css' %}" id="user-style-rtl" rel="stylesheet" type="text/css">
    <link href="{% static 'css/user.min.css' %}" id="user-style-default" rel="stylesheet" type="text/css">

    <script>
      var isRTL = JSON.parse(localStorage.getItem('isRTL'));
      if (isRTL) {
        var linkDefault = document.getElementById('style-default');
        var userLinkDefault = document.getElementById('user-style-default');
        linkDefault.setAttribute('disabled', true);
        userLinkDefault.setAttribute('disabled', true);
        document.querySelector('html').setAttribute('dir', 'rtl');
      } else {
        var linkRTL = document.getElementById('style-rtl');
        var userLinkRTL = document.getElementById('user-style-rtl');
        linkRTL.setAttribute('disabled', true);
        userLinkRTL.setAttribute('disabled', true);
      }


    </script>
</head>


<body>

<!-- ===============================================-->
<!--    Main Content-->
<!-- ===============================================-->
<main class="main" id="top">
    <div class="container-fluid px-0">
        {% include 'nav_bar.html' %}
        <div class="content">
            <form action="{% url 'add_products' %}" class="mb-9 needs-validation" method="post" novalidate="novalidate"
                  enctype="multipart/form-data">
                {% csrf_token %}
                <div class="row g-3 flex-between-end mb-5">
                    <div class="col-auto">
                        <h2 class="mb-2">Add a product</h2>
                        <h5 class="text-700 fw-semi-bold">Add products to your central inventory</h5>
                    </div>
                    <div class="col-auto">
                        <!--                        <button class="btn btn-phoenix-secondary me-2 mb-2 mb-sm-0">Discard</button>-->
                        <!--                                                <button class="btn btn-phoenix-primary me-2 mb-2 mb-sm-0">Save draft</button>-->
                        <button class="btn btn-primary mb-2 mb-sm-0" type="submit">Publish product</button>
                    </div>
                </div>
                <h4 class="mb-3">Product Title</h4>
                <div class="row g-5">
                    <div class="col-12 col-xl-8">
                        <div class="mb-5">
                            <input class="form-control" name="productTitle" placeholder="Write product title here..."
                                   type="text" required/>
                            <div class="invalid-feedback">Please provide a valid Product title.</div>
                        </div>
                        <div class="mb-6">
                            <h4 class="mb-3"> Product Description</h4>
                            <textarea required class="tinymce"
                                      data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'
                                      name="productDescription"></textarea>
                            <div class="invalid-feedback">Please provide a Product description.</div>

                        </div>
                        <h4 class="mb-3">Display images</h4>
                        <div class="mb-3">
                            <h5 class="mb-3">Upload product images(Can choose multiple)</h5>
                            <input required class="form-control" id="document1" multiple="multiple"
                                   name="productImages"
                                   type="file"/>
                            <div class="invalid-feedback">Please upload at least one picture.</div>
                        </div>
                        <div class="dz-preview dz-preview-multiple m-0 d-flex flex-column" id="documentPreviews"></div>
                        <div class="row g-3 mb-3">
                            <div class="col-12 col-lg-6">
                                <h5 class="mb-2 text-1000">Quantity</h5>
                                <input name="productQuantity" class="form-control" placeholder="Quantity" type="text"
                                       required/>
                                <div class="invalid-feedback">Please provide valid cost price.</div>
                            </div>
                            <div class="col-12 col-lg-6">
                                <h5 class="mb-2 text-1000">GSTIN</h5>
                                <input name="productGSTIN" class="form-control" placeholder="%" type="text" required/>
                                <div class="invalid-feedback">Please provide valid sale price.</div>
                            </div>
                            <div class="col-12 col-lg-6">
                                <h5 class="mb-2 text-1000">Discount</h5>
                                <input name="discount" class="form-control" placeholder="%" type="number" required
                                       maxlength="2" max="99"/>
                                <div class="invalid-feedback">Please provide valid discount percentage.</div>
                            </div>
                        </div>

                        <h4 class="mb-3">Power Data</h4>

                        <div class="row g-3 mb-3">
                            <div class="col-12 col-lg-6">
                                <h5 class="mb-2 text-1000">Does the product include power</h5>
                                <div class="form-check">
                                    <input value="on" class="form-check-input" id="includePower" type="radio"
                                           name="flexRadioDefault">
                                    <label class="form-check-label" for="includePower">Yes</label>
                                </div>
                                <div class="form-check">
                                    <input value="off" class="form-check-input" id="includePower2" type="radio"
                                           name="flexRadioDefault" checked="">
                                    <label class="form-check-label" for="includePower2">No</label>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6" id="visionTypeRadios" style="display: none;">
                                <h5 class="mb-2 text-1000">Vision Type</h5>
                                <div class="form-check">
                                    <input value="off" class="form-check-input" id="visionType1" type="radio"
                                           name="visionType">
                                    <label class="form-check-label" for="visionType1">Single Vision</label>
                                </div>
                                <div class="form-check">
                                    <input value="off" class="form-check-input" id="visionType2" type="radio"
                                           name="visionType">
                                    <label class="form-check-label" for="visionType2">Bi-Focal</label>
                                </div>
                                <div class="form-check">
                                    <input value="off" class="form-check-input" id="visionType3" type="radio"
                                           name="visionType">
                                    <label class="form-check-label" for="visionType3">Progressive</label>
                                </div>
                                <div class="form-check">
                                    <input value="on" class="form-check-input" id="visionType4" type="radio"
                                           name="visionType">
                                    <label class="form-check-label" for="visionType4">Rx</label>
                                </div>
                            </div>
                        </div>

                        <div class="row g-3 mb-3" id="powerCards" style="display: none;">

                            <div class="col-12 col-lg-12" id="normalPowerCard">
                                <div class="row g-3 mb-3">
                                    <div class="col-12 col-lg-3">
                                        <h5 class="mb-2 text-1000">Spherical</h5>
                                        <select class="form-select" aria-label="Default select example">
                                            <option selected="">Select Value</option>
                                            <option value="1">-3.5</option>
                                            <option value="1">-3.0</option>
                                            <option value="1">-2.5</option>
                                            <option value="1">-2.0</option>
                                            <option value="1">-1.5</option>
                                            <option value="1">-1.0</option>
                                            <option value="1">-0.5</option>
                                            <option value="1">0.0</option>
                                            <option value="1">0.5</option>
                                            <option value="1">1.0</option>
                                            <option value="1">1.5</option>
                                            <option value="1">2.0</option>
                                            <option value="1">2.5</option>
                                            <option value="1">3.0</option>
                                            <option value="1">3.5</option>
                                        </select>
                                    </div>
                                    <div class="col-12 col-lg-3">
                                        <h5 class="mb-2 text-1000">Cylindrical</h5>
                                        <select class="form-select" aria-label="Default select example">
                                            <option selected="">Select Value</option>
                                            <option value="1">-3.5</option>
                                            <option value="1">-3.0</option>
                                            <option value="1">-2.5</option>
                                            <option value="1">-2.0</option>
                                            <option value="1">-1.5</option>
                                            <option value="1">-1.0</option>
                                            <option value="1">-0.5</option>
                                            <option value="1">0.0</option>
                                            <option value="1">0.5</option>
                                            <option value="1">1.0</option>
                                            <option value="1">1.5</option>
                                            <option value="1">2.0</option>
                                            <option value="1">2.5</option>
                                            <option value="1">3.0</option>
                                            <option value="1">3.5</option>
                                        </select>
                                    </div>
                                    <div class="col-12 col-lg-3">
                                        <h5 class="mb-2 text-1000">Axis</h5>
                                        <select class="form-select" aria-label="Default select example">
                                            <option selected="">Select Value</option>
                                            <option value="1">-3.5</option>
                                            <option value="1">-3.0</option>
                                            <option value="1">-2.5</option>
                                            <option value="1">-2.0</option>
                                            <option value="1">-1.5</option>
                                            <option value="1">-1.0</option>
                                            <option value="1">-0.5</option>
                                            <option value="1">0.0</option>
                                            <option value="1">0.5</option>
                                            <option value="1">1.0</option>
                                            <option value="1">1.5</option>
                                            <option value="1">2.0</option>
                                            <option value="1">2.5</option>
                                            <option value="1">3.0</option>
                                            <option value="1">3.5</option>
                                        </select>
                                    </div>

                                    <div class="col-12 col-lg-3">
                                        <h5 class="mb-2 text-1000">Add</h5>
                                        <select class="form-select" aria-label="Default select example">
                                            <option selected="">Open this select menu</option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-12" id="rxPowerCard">
                                <div class="row g-3 mb-3">
                                    <div class="col-12 col-lg-3">
                                        <h5 class="mb-2 text-1000">Spherical</h5>
                                        <input name="sph" class="form-control" type="text"
                                               placeholder=""/>
                                    </div>
                                    <div class="col-12 col-lg-3">
                                        <h5 class="mb-2 text-1000">Cylindrical</h5>
                                        <input name="cyl" class="form-control" type="text"
                                               placeholder=""/>
                                    </div>
                                    <div class="col-12 col-lg-3">
                                        <h5 class="mb-2 text-1000">Axis</h5>
                                        <input name="cyl" class="form-control" type="text"
                                               placeholder=""/>
                                    </div>

                                    <div class="col-12 col-lg-3">
                                        <h5 class="mb-2 text-1000">Add</h5>
                                        <select class="form-select" aria-label="Default select example">
                                            <option selected="">Open this select menu</option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h4 class="mb-3">Pricing</h4>
                        <div class="row g-3 mb-3">
                            <div class="col-12 col-lg-6">
                                <h5 class="mb-2 text-1000">Cost price</h5>
                                <input name="costPrice" class="form-control" placeholder="₹" type="text" required/>
                                <div class="invalid-feedback">Please provide valid cost price.</div>
                            </div>
                            <div class="col-12 col-lg-6">
                                <h5 class="mb-2 text-1000">Retail Sale price</h5>
                                <input name="salePrice" class="form-control" placeholder="₹" type="text" required/>
                                <div class="invalid-feedback">Please provide valid sale price.</div>
                            </div>
                            <div class="col-12 col-lg-6">
                                <h5 class="mb-2 text-1000">Franchise Sale price</h5>
                                <input name="franchiseSalePrice" class="form-control" placeholder="₹" type="text"
                                       required/>
                                <div class="invalid-feedback">Please provide valid sale price.</div>
                            </div>
                        </div>
                        <h4 class="mb-3">Models Data</h4>
                        <div class="row g-3 mb-3">
                            <div class="col-12 col-lg-6">
                                <h5 class="mb-2 text-1000">Model Number</h5>
                                <input name="modelNumber" class="form-control" placeholder="Model Number" type="text"
                                       required/>
                                <div class="invalid-feedback">Please provide valid model number.</div>

                            </div>
                            <div class="col-12 col-lg-6">
                                <h5 class="mb-2 text-1000">HSN Number</h5>
                                <input name="hsnNumber" class="form-control" placeholder="HSN Number" type="text"
                                       required/>
                                <div class="invalid-feedback">Please provide valid HSN price.</div>

                            </div>
                        </div>

                    </div>
                    <div class="col-12 col-xl-4">
                        <div class="row g-2">
                            <div class="col-12 col-xl-12">
                                <div class="card mb-3">
                                    <div class="card-body">
                                        <h4 class="card-title mb-4">Organize</h4>
                                        <div class="row g-3">
                                            <div class="col-12 col-sm-6 col-xl-12">
                                                <div class="d-flex flex-wrap justify-content-between mb-2">
                                                    <h5 class="mb-0 text-1000">Category</h5>
                                                    <a class="fw-bold fs--1" href="{% url 'add_product_category' %}">
                                                        Add new category</a>

                                                </div>
                                                <select id="categorySelect" name="categoryId" required
                                                        aria-label="category" class="form-select mb-3"
                                                        onchange="handleCategoryChange()">
                                                    <option value="">Select category</option>
                                                    {% for category in product_categories %}
                                                    <option value="{{category.category_id}}">
                                                        {{category.category_name}}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                                <div class="invalid-feedback">Please select category.</div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-xl-12">
                                                <div class="d-flex flex-wrap justify-content-between mb-2">
                                                    <h5 class="mb-0 text-1000">Brand</h5><a class="fw-bold fs--1"
                                                                                            href="{% url 'add_product_brand' %}">Add
                                                    new
                                                    Brand</a>
                                                </div>
                                                <select name="brandId" required aria-label="brands"
                                                        class="form-select mb-3">
                                                    <option value="">Select Brand</option>
                                                    {% for brand in product_brands %}
                                                    <option value="{{brand.brand_id}}">{{brand.brand_name}}</option>
                                                    {% endfor %}
                                                </select>
                                                <div class="invalid-feedback">Please select a brand.</div>
                                            </div>

                                            <div id="only_frame_options" class="d-none">
                                                <div class="col-12 col-sm-6 col-xl-12">
                                                    <div class="d-flex flex-wrap justify-content-between mb-2">
                                                        <h5 class="text-1000">Material</h5><a class="fw-bold fs--1"
                                                                                              href="{% url 'add_master_material' %}">Add
                                                        new material</a>
                                                    </div>
                                                    <select name="materialId" required class="form-select mb-3">
                                                        <option value="">Select Material</option>
                                                        {% for material in product_materials %}
                                                        <option value="{{material.material_id}}">
                                                            {{material.material_name}}
                                                        </option>
                                                        {% endfor %}
                                                    </select>
                                                    <div class="invalid-feedback">Please select material.</div>
                                                </div>
                                                <div class="col-12 col-sm-6 col-xl-12">
                                                    <div class="d-flex flex-wrap justify-content-between mb-2">
                                                        <h5 class="text-1000">Frame Type</h5><a class="fw-bold fs--1"
                                                                                                href="{% url 'add_frame_type' %}">Add
                                                        new frame type</a>
                                                    </div>
                                                    <select name="frameTypeId" required class="form-select mb-3">
                                                        <option value="">Select Frame Type</option>
                                                        {% for type in frame_types %}
                                                        <option value="{{type.frame_id}}">{{type.frame_type_name}}
                                                        </option>
                                                        {% endfor %}
                                                    </select>
                                                    <div class="invalid-feedback">Please select frame type.</div>
                                                </div>
                                                <div class="col-12 col-sm-6 col-xl-12">
                                                    <div class="d-flex flex-wrap justify-content-between mb-2">
                                                        <h5 class="text-1000">Frame Shape</h5><a class="fw-bold fs--1"
                                                                                                 href="{% url 'add_frame_shape' %}">Add
                                                        new Shape</a>
                                                    </div>
                                                    <select name="frameShapeId" required class="form-select mb-3">
                                                        <option value="">Select frame shape</option>
                                                        {% for frame_shape in frame_shapes %}
                                                        <option value="{{frame_shape.shape_id}}">
                                                            {{frame_shape.shape_name}}
                                                        </option>
                                                        {% endfor %}
                                                    </select>
                                                    <div class="invalid-feedback">Please select frame shape.</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-xl-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="card-title mb-4">Variants</h4>
                                        <div class="row g-3 g-xl-5">
                                            <div class="col-12 col-sm-6 col-xl-12">
                                                <div class="border-dashed-bottom pb-4 pb-xl-0">
                                                    <div class="d-flex flex-wrap justify-content-between mb-2">
                                                        <h5 class="text-1000">Color</h5><a class="fw-bold fs--1"
                                                                                           href="{% url 'add_master_color' %}">Add
                                                        new Color</a>
                                                    </div>
                                                    <select name="colorId" required class="form-select">
                                                        <option value="">Select Color</option>
                                                        {% for color in colors %}
                                                        <option value="{{color.color_id}}">
                                                            {{color.color_name}} -
                                                            {{color.color_code}}
                                                        </option>
                                                        {% endfor %}
                                                    </select>
                                                    <div class="invalid-feedback">Please select color.</div>

                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-xl-12">
                                                <div class="d-flex flex-wrap justify-content-between mb-2">
                                                    <h5 class="text-1000">Unit</h5>
                                                </div>
                                                <select name="unitId" required class="form-select">
                                                    <option value="">Select unit</option>
                                                    {% for unit in master_units %}
                                                    <option value="{{unit.unit_id}}">{{unit.unit_name}}</option>
                                                    {% endfor %}
                                                </select>
                                                <div class="invalid-feedback">Please select unit.</div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-xl-12">
                                                <div class="d-flex flex-wrap justify-content-between mb-2">
                                                    <h5 class="mb-0 text-1000">Origin</h5>
                                                </div>
                                                <select name="origin" required aria-label="origin" class="form-select">
                                                    <option value="">Select Origin</option>
                                                    <option value="Indian">Indian</option>
                                                    <option value="Foreign">Foreign</option>
                                                    <option value="Domestic">Domestic</option>
                                                </select>
                                                <div class="invalid-feedback">Please select origin.</div>

                                            </div>
                                            <input name="created_by" required type="hidden"

                                                   value="{{ request.session.id }}">
                                            <input name="last_updated_by" required type="hidden"

                                                   value="{{ request.session.id }}">


                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            {% include 'footer.html' %}
        </div>
    </div>
    <script>
        var navbarTopStyle = localStorage.getItem('phoenixNavbarTopStyle');
        var navbarTop = document.querySelector('.navbar-top');
        if (navbarTopStyle === 'darker') {
          navbarTop.classList.add('navbar-darker');
        }

        var navbarVerticalStyle = localStorage.getItem('phoenixNavbarVerticalStyle');
        var navbarVertical = document.querySelector('.navbar-vertical');
        if (navbarVerticalStyle === 'darker') {
          navbarVertical.classList.add('navbar-darker');
        }


    </script>
</main>
<!-- ===============================================-->
<!--    End of Main Content-->
<!-- ===============================================-->

<!-- ===============================================-->
<!--    JavaScripts-->
<!-- ===============================================-->
<script src="{% static 'vendors/tinymce/tinymce.min.js' %}"></script>
<script src="{% static 'vendors/popper/popper.min.js' %}"></script>
<script src="{% static 'vendors/bootstrap/bootstrap.min.js' %}"></script>
<script src="{% static 'vendors/anchorjs/anchor.min.js' %}"></script>
<script src="{% static 'vendors/is/is.min.js' %}"></script>
<script src="{% static 'vendors/fontawesome/all.min.js' %}"></script>
<script src="{% static 'vendors/lodash/lodash.min.js' %}"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
<script src="{% static 'vendors/list.js/list.min.js' %}"></script>
<script src="{% static 'vendors/feather-icons/feather.min.js' %}"></script>
<script src="{% static 'vendors/dayjs/dayjs.min.js' %}"></script>
<script src="{% static 'vendors/dropzone/dropzone.min.js' %}"></script>
<script src="{% static 'vendors/choices/choices.min.js' %}"></script>
<script src="{% static 'js/phoenix.js' %}"></script>
<script src="{% static 'js/file-upload-preview.js' %}"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script>
        function handleCategoryChange() {
            var selectElement = document.getElementById("categorySelect");
            var divToToggle = document.getElementById("only_frame_options");
            var selectedValue = selectElement.value;
             if (selectedValue === "1") {
                divToToggle.classList.remove("d-none");
            } else {
                divToToggle.classList.add("d-none");
            }
        }


</script>


<script>
    $(document).ready(function () {
        // Function to show/hide vision type radios and power cards based on the selection
        $("input[name='flexRadioDefault']").change(function () {
            if ($(this).val() === "on") {
                $("#visionTypeRadios").show();
                $("input[name='visionType']").prop("checked", false);
            } else {
                $("#visionTypeRadios").hide();
                $("#powerCards").hide(); // hide power cards when 'No' is selected
            }
        });

        // Function to show/hide power cards based on the selection of vision type
        $("input[name='visionType']").change(function () {
            if ($(this).val() === "off") {
                $("#normalPowerCard").show();
                $("#rxPowerCard").hide();
            } else {
                $("#normalPowerCard").hide();
                $("#rxPowerCard").show();
            }
            $("#powerCards").show();
        });
    });


</script>

</body>

</html>